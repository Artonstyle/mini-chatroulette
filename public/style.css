<style>
    /* ------------------------------------------- */
    /* DESKTOP/ORIGINAL DEFINITIONEN (UNVERÃ„NDERT) */
    /* ------------------------------------------- */
    :root{
      --bg:#f3f6f9;
      --card:#ffffff;
      --accent:#ff5252;
      --primary:#2196f3;
      --muted:#6b7280;
      --success: #4CAF50; /* Neu: FÃ¼r Start Button */
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);color:#111}
    header{padding:18px 20px;text-align:center}
    h1{margin:0;font-size:20px}
    .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(15,23,42,0.06);margin:20px auto;max-width:400px}
    label{display:block;margin:10px 0}
    select, input[type="text"] { /* input[type="text"] hinzugefÃ¼gt */
        width:100%;
        padding:8px;
        border-radius:8px;
        border:1px solid #ddd;
        margin-top: 4px; /* Abstand fÃ¼r Label */
    }

    #container{display:grid;grid-template-columns:2fr 1fr;gap:18px;padding:20px;max-width:1000px;margin:0 auto}

    /* Desktop-spezifische Layoutanpassungen */
    #profileCard {
        grid-column: 1 / 3; /* Volle Breite oben */
        max-width: none;
        margin: 0;
        padding-top: 5px;
    }
    .profile-setup {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        align-items: flex-end;
    }
    .profile-setup > div {
        flex: 1 1 120px;
    }
    #videoCard {
        grid-column: 1 / 2;
    }
    #chat-area {
        grid-column: 2 / 3;
    }
    /* Ende Desktop Layoutanpassungen */

    .video-row{display:flex;gap:10px;justify-content:center;align-items:center}
    video{width:48%;height:auto;background:#000;border-radius:8px;border:1px solid #ddd; min-height: 200px;}

    .controls{display:flex;justify-content:center;margin-top:12px}
    .btn{padding:10px 14px;border-radius:8px;border:0;cursor:pointer;font-weight:600}
    .btn.primary{background:var(--primary);color:white}
    .btn.danger{background:var(--accent);color:white}
    .btn.start {background: var(--success); color: white;} /* Start-Button Desktop */

    #chat{display:flex;flex-direction:column;gap:8px}
    .messages{flex:1;overflow:auto;border:1px solid #eee;padding:10px;border-radius:8px;height:360px;background:#fafafa}
    .input-row{display:flex;gap:8px}
    input#msgInput{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd}
    #profileInfo{margin-top:12px;font-size:14px;color:var(--muted)}

    /* NEU: Elemente, die auf Desktop versteckt sind */
    #welcomeCard, .mobile-start-btn, #searchStatus {
        display: none;
    }

    /* ------------------------------------------- */
    /* ðŸ“± MOBILE RESPONSIVE ANPASSUNGEN (max. 800px) */
    /* ------------------------------------------- */
    @media(max-width:800px){
        
        /* 1. Container & Layout Reset */
        #container{
            grid-template-columns:1fr;
            padding:12px;
            gap: 12px;
            max-width: 100vw;
            margin: 0;
            display: flex; 
            flex-direction: column;
            min-height: 100vh;
        }
        .card {
            margin: 0;
            max-width: 100%;
        }
        
        /* Profil-Setup Anpassung */
        #profileCard {
            order: 1;
            padding-top: 16px; /* Standard Padding beibehalten */
        }
        .profile-setup {
            flex-direction: column; /* Vertikal stapeln */
            gap: 5px;
        }

        /* --------------------- */
        /* START-ANSICHT MOBILE */
        /* --------------------- */

        /* Video/Chat/Desktop Controls verstecken */
        #videoCard, #chat-area, .controls {
            display: none !important;
        }
        
        /* Willkommenskarte anzeigen */
        #welcomeCard {
            display: block;
            order: 2;
            padding: 18px;
            background: #e0f7fa; 
            color: #004d40; 
        }
        
        /* Mobilen Start Button anzeigen (klebt unten) */
        .mobile-start-btn {
            display: block; 
            width: 100%;
            padding: 15px;
            font-size: 18px;
            order: 3;
            margin-top: auto; 
            background: var(--success);
            color: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        
        /* --------------------- */
        /* AKTIVE ANSICHT MOBILE (body.chat-active-mobile) */
        /* --------------------- */

        /* Verstecke irrelevante Elemente im aktiven Modus */
        body.chat-active-mobile header,
        body.chat-active-mobile #profileCard,
        body.chat-active-mobile #welcomeCard,
        body.chat-active-mobile .mobile-start-btn {
            display: none !important;
        }
        
        /* Container nimmt Fullscreen ein */
        body.chat-active-mobile #container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            padding: 0;
            background: #000;
            display: block; 
            z-index: 1000;
        }
        
        /* Video Card als Fullscreen-HÃ¼lle */
        body.chat-active-mobile #videoCard {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 0;
            box-shadow: none;
        }
        
        /* Remote Video: Fullscreen-Hintergrund */
        body.chat-active-mobile .video-row {
            display: block; 
            width: 100%;
            height: 100vh;
            margin: 0;
        }
        body.chat-active-mobile video {
            position: absolute;
            width: 100%;
            height: 100vh;
            object-fit: cover;
            border-radius: 0;
            border: none;
            min-height: unset;
        }
        
        /* Local Video: Overlay und verschiebbar */
        body.chat-active-mobile #localVideo {
            width: 90px;
            height: 140px;
            top: 20px;
            right: 20px;
            left: auto;
            z-index: 1001;
            border: 2px solid var(--primary);
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
            touch-action: none; 
            cursor: grab;
        }

        /* Controls: Ãœber dem Chat-Input positioniert */
        body.chat-active-mobile .controls {
            display: flex !important;
            position: fixed;
            bottom: 70px; 
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            z-index: 1002;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 8px;
            justify-content: space-around;
        }
        body.chat-active-mobile .controls .btn {
            flex-grow: 1;
            margin: 0 5px;
            padding: 12px 10px;
            font-size: 16px;
        }

        /* Chat-Bereich: Fixed Input am unteren Rand */
        body.chat-active-mobile #chat-area {
            display: block !important;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            z-index: 1003;
            padding: 10px;
            background: rgba(255, 255, 255, 0.95);
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }
        body.chat-active-mobile #chat {
            height: auto;
            gap: 5px;
        }
        /* Nachrichtenhistorie in der aktiven mobilen Ansicht verstecken */
        body.chat-active-mobile .messages {
            display: none;
        }

        /* Suchstatus: Fullscreen-Overlay */
        body.chat-active-mobile #searchStatus {
            display: none; 
            position: fixed; 
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            z-index: 1004;
            background: rgba(0, 0, 0, 0.9);
            border-radius: 0;
            font-size: 1.5em;
            justify-content: center;
            align-items: center;
            color: white;
        }
        
        /* Partner-Info oben fixieren */
        body.chat-active-mobile #partnerInfo {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1002;
            color: white;
            background: rgba(0, 0, 0, 0.6);
            padding: 5px 10px;
            border-radius: 5px;
            display: block !important;
        }
    }
</style>
